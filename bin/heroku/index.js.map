{
"version":3,
"file":"index.js",
"sourceRoot":"file:///",
"sources":["/usr/local/lib/haxe/std/js/_std/EReg.hx","/usr/local/lib/haxe/std/js/_std/HxOverrides.hx","/usr/local/lib/haxe/std/List.hx","/Users/matthijs/Documents/workingdir/haxe/hxskeletor/src/MainHeroku.hx","/usr/local/lib/haxe/std/js/_std/Reflect.hx","/usr/local/lib/haxe/std/js/_std/Std.hx","/usr/local/lib/haxe/std/StringBuf.hx","/usr/local/lib/haxe/std/haxe/Template.hx","/usr/local/lib/haxe/std/haxe/Timer.hx","/usr/local/lib/haxe/std/js/Boot.hx","/Users/matthijs/Documents/workingdir/haxe/hxskeletor/src/server/Controller.hx","/Users/matthijs/Documents/workingdir/haxe/hxskeletor/src/server/Router.hx","/Users/matthijs/Documents/workingdir/haxe/hxskeletor/src/server/controller/Api.hx","/Users/matthijs/Documents/workingdir/haxe/hxskeletor/src/server/controller/Login.hx","/Users/matthijs/Documents/workingdir/haxe/hxskeletor/src/server/controller/Test.hx","/Users/matthijs/Documents/workingdir/haxe/hxskeletor/src/model/constants/App.hx"],
"sourcesContent":["/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi class EReg {\n\n\tvar r : HaxeRegExp;\n\n\tpublic inline function new( r : String, opt : String ) : Void {\n\t\tthis.r = new HaxeRegExp(r, opt.split(\"u\").join(\"\")); // 'u' (utf8) depends on page encoding\n\t}\n\n\tpublic function match( s : String ) : Bool {\n\t\tif( r.global ) r.lastIndex = 0;\n\t\tr.m = r.exec(s);\n\t\tr.s = s;\n\t\treturn (r.m != null);\n\t}\n\n\tpublic function matched( n : Int ) : String {\n\t\treturn if( r.m != null && n >= 0 && n < r.m.length ) r.m[n] else throw \"EReg::matched\";\n\t}\n\n\tpublic function matchedLeft() : String {\n\t\tif( r.m == null ) throw \"No string matched\";\n\t\treturn r.s.substr(0,r.m.index);\n\t}\n\n\tpublic function matchedRight() : String {\n\t\tif( r.m == null ) throw \"No string matched\";\n\t\tvar sz = r.m.index+r.m[0].length;\n\t\treturn r.s.substr(sz,r.s.length-sz);\n\t}\n\n\tpublic function matchedPos() : { pos : Int, len : Int } {\n\t\tif( r.m == null ) throw \"No string matched\";\n\t\treturn { pos : r.m.index, len : r.m[0].length };\n\t}\n\n\tpublic function matchSub( s : String, pos : Int, len : Int = -1):Bool {\n\t\treturn if (r.global) {\n\t\t\tr.lastIndex = pos;\n\t\t\tr.m = r.exec(len < 0 ? s : s.substr(0, pos + len));\n\t\t\tvar b = r.m != null;\n\t\t\tif (b) {\n\t\t\t\tr.s = s;\n\t\t\t}\n\t\t\tb;\n\t\t} else {\n\t\t\t// TODO: check some ^/$ related corner cases\n\t\t\tvar b = match( len < 0 ? s.substr(pos) : s.substr(pos,len) );\n\t\t\tif (b) {\n\t\t\t\tr.s = s;\n\t\t\t\tr.m.index += pos;\n\t\t\t}\n\t\t\tb;\n\t\t}\n\t}\n\n\tpublic function split( s : String ) : Array<String> {\n\t\t// we can't use directly s.split because it's ignoring the 'g' flag\n\t\tvar d = \"#__delim__#\";\n\t\treturn untyped s.replace(r,d).split(d);\n\t}\n\n\tpublic inline function replace( s : String, by : String ) : String {\n\t\treturn untyped s.replace(r,by);\n\t}\n\n\tpublic function map( s : String, f : EReg -> String ) : String {\n\t\tvar offset = 0;\n\t\tvar buf = new StringBuf();\n\t\tdo {\n\t\t\tif (offset >= s.length)\n\t\t\t\tbreak;\n\t\t\telse if (!matchSub(s, offset)) {\n\t\t\t\tbuf.add(s.substr(offset));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar p = matchedPos();\n\t\t\tbuf.add(s.substr(offset, p.pos - offset));\n\t\t\tbuf.add(f(this));\n\t\t\tif (p.len == 0) {\n\t\t\t\tbuf.add(s.substr(p.pos, 1));\n\t\t\t\toffset = p.pos + 1;\n\t\t\t}\n\t\t\telse\n\t\t\t\toffset = p.pos + p.len;\n\t\t} while (r.global);\n\t\tif (!r.global && offset > 0 && offset < s.length)\n\t\t\tbuf.add(s.substr(offset));\n\t\treturn buf.toString();\n\t}\n}\n\n@:native(\"RegExp\")\nprivate extern class HaxeRegExp extends js.RegExp {\n\tvar m:js.RegExp.RegExpMatch;\n\tvar s:String;\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:noDoc\nclass HxOverrides {\n\n\tstatic function dateStr( date :Date ) : String {\n\t\tvar m = date.getMonth() + 1;\n\t\tvar d = date.getDate();\n\t\tvar h = date.getHours();\n\t\tvar mi = date.getMinutes();\n\t\tvar s = date.getSeconds();\n\t\treturn date.getFullYear()\n\t\t\t+\"-\"+(if( m < 10 ) \"0\"+m else \"\"+m)\n\t\t\t+\"-\"+(if( d < 10 ) \"0\"+d else \"\"+d)\n\t\t\t+\" \"+(if( h < 10 ) \"0\"+h else \"\"+h)\n\t\t\t+\":\"+(if( mi < 10 ) \"0\"+mi else \"\"+mi)\n\t\t\t+\":\"+(if( s < 10 ) \"0\"+s else \"\"+s);\n\t}\n\n\tstatic function strDate( s : String ) : Date {\n\t\tswitch( s.length ) {\n\t\tcase 8: // hh:mm:ss\n\t\t\tvar k = s.split(\":\");\n\t\t\tvar d : Date = untyped __new__(Date);\n\t\t\tuntyped d[\"setTime\"](0);\n\t\t\tuntyped d[\"setUTCHours\"](k[0]);\n\t\t\tuntyped d[\"setUTCMinutes\"](k[1]);\n\t\t\tuntyped d[\"setUTCSeconds\"](k[2]);\n\t\t\treturn d;\n\t\tcase 10: // YYYY-MM-DD\n\t\t\tvar k = s.split(\"-\");\n\t\t\treturn new Date(cast k[0],cast untyped k[1] - 1,cast k[2],0,0,0);\n\t\tcase 19: // YYYY-MM-DD hh:mm:ss\n\t\t\tvar k = s.split(\" \");\n\t\t\tvar y = k[0].split(\"-\");\n\t\t\tvar t = k[1].split(\":\");\n\t\t\treturn new Date(cast y[0],cast untyped y[1] - 1,cast y[2],cast t[0],cast t[1],cast t[2]);\n\t\tdefault:\n\t\t\tthrow \"Invalid date format : \" + s;\n\t\t}\n\t}\n\n\tstatic function cca( s : String, index : Int ) : Null<Int> {\n\t\tvar x = (cast s).charCodeAt(index);\n\t\tif( x != x ) // fast isNaN\n\t\t\treturn js.Lib.undefined; // isNaN will still return true\n\t\treturn x;\n\t}\n\n\tstatic function substr( s : String, pos : Int, ?len : Int ) : String {\n\t\tif (len == null) {\n\t\t\tlen = s.length;\n\t\t} else if (len < 0) {\n\t\t\tif (pos == 0)\n\t\t\t\tlen = s.length + len;\n\t\t\telse\n\t\t\t\treturn \"\";\n\t\t}\n\n\t\t#if (js_es < 5)\n\t\tif (pos < 0) {\n\t\t\tpos = s.length + pos;\n\t\t\tif (pos < 0)\n\t\t\t\tpos = 0;\n\t\t}\n\t\t#end\n\n\t\treturn (untyped s).substr(pos, len);\n\t}\n\n\tstatic function indexOf<T>( a : Array<T>, obj : T, i : Int) {\n\t\tvar len = a.length;\n\t\tif (i < 0) {\n\t\t\ti += len;\n\t\t\tif (i < 0) i = 0;\n\t\t}\n\t\twhile (i < len)\n\t\t{\n\t\t\tif (untyped __js__(\"a[i] === obj\"))\n\t\t\t\treturn i;\n\t\t\ti++;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tstatic function lastIndexOf<T>( a : Array<T>, obj : T, i : Int) {\n\t\tvar len = a.length;\n\t\tif (i >= len)\n\t\t\ti = len - 1;\n\t\telse if (i < 0)\n\t\t\ti += len;\n\t\twhile (i >= 0)\n\t\t{\n\t\t\tif (untyped __js__(\"a[i] === obj\"))\n\t\t\t\treturn i;\n\t\t\ti--;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tstatic function remove<T>( a : Array<T>, obj : T ) {\n\t\tvar i = a.indexOf(obj);\n\t\tif( i == -1 ) return false;\n\t\ta.splice(i,1);\n\t\treturn true;\n\t}\n\n\tstatic function iter<T>( a : Array<T> ) : Iterator<T> untyped {\n\t\treturn {\n\t\t\tcur : 0,\n\t\t\tarr : a,\n\t\t\thasNext : function() {\n\t\t\t\treturn __this__.cur < __this__.arr.length;\n\t\t\t},\n\t\t\tnext : function() {\n\t\t\t\treturn __this__.arr[__this__.cur++];\n\t\t\t}\n\t\t};\n\t}\n\n\tstatic function __init__() untyped {\n#if (js_es < 5)\n\t\t__feature__('HxOverrides.indexOf', if( Array.prototype.indexOf ) __js__(\"HxOverrides\").indexOf = function(a,o,i) return Array.prototype.indexOf.call(a, o, i));\n\t\t__feature__('HxOverrides.lastIndexOf', if( Array.prototype.lastIndexOf ) __js__(\"HxOverrides\").lastIndexOf = function(a,o,i) return Array.prototype.lastIndexOf.call(a, o, i));\n#end\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n\n/**\n\tA linked-list of elements. The list is composed of element container objects\n\tthat are chained together. It is optimized so that adding or removing an\n\telement does not imply copying the whole list content every time.\n\n\t@see https://haxe.org/manual/std-List.html\n**/\nclass List<T> {\n\n\tprivate var h : ListNode<T>;\n\tprivate var q : ListNode<T>;\n\n\t/**\n\t\tThe length of `this` List.\n\t**/\n\tpublic var length(default,null) : Int;\n\n\t/**\n\t\tCreates a new empty list.\n\t**/\n\tpublic function new() {\n\t\tlength = 0;\n\t}\n\n\t/**\n\t\tAdds element `item` at the end of `this` List.\n\n\t\t`this.length` increases by 1.\n\t**/\n\tpublic function add( item : T ) {\n\t\tvar x = ListNode.create(item, null);\n\t\tif( h == null )\n\t\t\th = x;\n\t\telse\n\t\t\tq.next = x;\n\t\tq = x;\n\t\tlength++;\n\t}\n\n\t/**\n\t\tAdds element `item` at the beginning of `this` List.\n\n\t\t`this.length` increases by 1.\n\t**/\n\tpublic function push( item : T ) {\n\t\tvar x = ListNode.create(item, h);\n\t\th = x;\n\t\tif( q == null )\n\t\t\tq = x;\n\t\tlength++;\n\t}\n\n\t/**\n\t\tReturns the first element of `this` List, or null if no elements exist.\n\n\t\tThis function does not modify `this` List.\n\t**/\n\tpublic function first() : Null<T> {\n\t\treturn if( h == null ) null else h.item;\n\t}\n\n\t/**\n\t\tReturns the last element of `this` List, or null if no elements exist.\n\n\t\tThis function does not modify `this` List.\n\t**/\n\tpublic function last() : Null<T> {\n\t\treturn if( q == null ) null else q.item;\n\t}\n\n\n\t/**\n\t\tReturns the first element of `this` List, or null if no elements exist.\n\n\t\tThe element is removed from `this` List.\n\t**/\n\tpublic function pop() : Null<T> {\n\t\tif( h == null )\n\t\t\treturn null;\n\t\tvar x = h.item;\n\t\th = h.next;\n\t\tif( h == null )\n\t\t\tq = null;\n\t\tlength--;\n\t\treturn x;\n\t}\n\n\t/**\n\t\tTells if `this` List is empty.\n\t**/\n\tpublic function isEmpty() : Bool {\n\t\treturn (h == null);\n\t}\n\n\t/**\n\t\tEmpties `this` List.\n\n\t\tThis function does not traverse the elements, but simply sets the\n\t\tinternal references to null and `this.length` to 0.\n\t**/\n\tpublic function clear() : Void {\n\t\th = null;\n\t\tq = null;\n\t\tlength = 0;\n\t}\n\n\t/**\n\t\tRemoves the first occurrence of `v` in `this` List.\n\n\t\tIf `v` is found by checking standard equality, it is removed from `this`\n\t\tList and the function returns true.\n\n\t\tOtherwise, false is returned.\n\t**/\n\tpublic function remove( v : T ) : Bool {\n\t\tvar prev:ListNode<T> = null;\n\t\tvar l = h;\n\t\twhile( l != null ) {\n\t\t\tif( l.item == v ) {\n\t\t\t\tif( prev == null )\n\t\t\t\t\th = l.next;\n\t\t\t\telse\n\t\t\t\t\tprev.next = l.next;\n\t\t\t\tif( q == l )\n\t\t\t\t\tq = prev;\n\t\t\t\tlength--;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tprev = l;\n\t\t\tl = l.next;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t\tReturns an iterator on the elements of the list.\n\t**/\n\tpublic inline function iterator() : ListIterator<T> {\n\t\treturn new ListIterator<T>(h);\n\t}\n\n\t/**\n\t\tReturns a string representation of `this` List.\n\n\t\tThe result is enclosed in { } with the individual elements being\n\t\tseparated by a comma.\n\t**/\n\tpublic function toString() {\n\t\tvar s = new StringBuf();\n\t\tvar first = true;\n\t\tvar l = h;\n\t\ts.add(\"{\");\n\t\twhile( l != null ) {\n\t\t\tif( first )\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\ts.add(\", \");\n\t\t\ts.add(Std.string(l.item));\n\t\t\tl = l.next;\n\t\t}\n\t\ts.add(\"}\");\n\t\treturn s.toString();\n\t}\n\n\t/**\n\t\tReturns a string representation of `this` List, with `sep` separating\n\t\teach element.\n\t**/\n\tpublic function join(sep : String) {\n\t\tvar s = new StringBuf();\n\t\tvar first = true;\n\t\tvar l = h;\n\t\twhile( l != null ) {\n\t\t\tif( first )\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\ts.add(sep);\n\t\t\ts.add(l.item);\n\t\t\tl = l.next;\n\t\t}\n\t\treturn s.toString();\n\t}\n\n\t/**\n\t\tReturns a list filtered with `f`. The returned list will contain all\n\t\telements for which `f(x) == true`.\n\t**/\n\tpublic function filter( f : T -> Bool ) {\n\t\tvar l2 = new List();\n\t\tvar l = h;\n\t\twhile( l != null ) {\n\t\t\tvar v = l.item;\n\t\t\tl = l.next;\n\t\t\tif( f(v) )\n\t\t\t\tl2.add(v);\n\t\t}\n\t\treturn l2;\n\t}\n\n\t/**\n\t\tReturns a new list where all elements have been converted by the\n\t\tfunction `f`.\n\t**/\n\tpublic function map<X>(f : T -> X) : List<X> {\n\t\tvar b = new List();\n\t\tvar l = h;\n\t\twhile( l != null ) {\n\t\t\tvar v = l.item;\n\t\t\tl = l.next;\n\t\t\tb.add(f(v));\n\t\t}\n\t\treturn b;\n\t}\n\n}\n\n#if neko\nprivate extern class ListNode<T> extends neko.NativeArray<Dynamic> {\n\tvar item(get,set):T;\n\tvar next(get,set):ListNode<T>;\n\tprivate inline function get_item():T return this[0];\n\tprivate inline function set_item(v:T):T return this[0] = v;\n\tprivate inline function get_next():ListNode<T> return this[1];\n\tprivate inline function set_next(v:ListNode<T>):ListNode<T> return this[1] = v;\n\tinline static function create<T>(item:T, next:ListNode<T>):ListNode<T> {\n\t\treturn untyped __dollar__array(item, next);\n\t}\n}\n#else\nprivate class ListNode<T> {\n\tpublic var item:T;\n\tpublic var next:ListNode<T>;\n\tpublic function new(item:T, next:ListNode<T>) {\n\t\tthis.item = item;\n\t\tthis.next = next;\n\t}\n\t@:extern public inline static function create<T>(item:T, next:ListNode<T>):ListNode<T> {\n\t\treturn new ListNode(item, next);\n\t}\n}\n#end\n\nprivate class ListIterator<T> {\n\tvar head:ListNode<T>;\n\n\tpublic inline function new(head:ListNode<T>) {\n\t\tthis.head = head;\n\t}\n\n\tpublic inline function hasNext():Bool {\n\t\treturn head != null;\n\t}\n\n\tpublic inline function next():T {\n\t\tvar val = head.item;\n\t\thead = head.next;\n\t\treturn val;\n\t}\n}\n","package;\n\nimport js.Node.*;\nimport js.Node;\nimport js.Node.console;\n\nimport js.node.Fs;\nimport js.node.Path;\nimport js.node.Require;\n\nimport js.npm.SocketIo;\nimport js.npm.Request;\n\nimport js.npm.Express;\nimport js.npm.express.*;\nimport js.npm.express.Request;\nimport js.npm.express.Response;\n\nimport model.constants.App;\nimport server.Router;\n\nimport haxe.Timer;\nusing StringTools;\n\n/**\n * @author Matthijs Kamstra aka [mck]\n * MIT\n */\nclass MainHeroku {\n\n\tvar app : js.npm.Express;\n\tvar server : js.node.http.Server;\n\tpublic static var io : js.npm.socketio.Server;\n\n\n\tpublic function new () {\n\t\tconsole.log('${App.PROJECT_NAME} build: ${App.BUILD}');\n\n\t\ttrace('${App.PROJECT_NAME} start Heroku server');\n\n\t\tvar port = Sys.getEnv(\"PORT\");\n\t\tif(port == null) port = App.PORT;\n\t\ttrace('port: $port');\n\n\t\tapp    = new js.npm.Express();\n\t\tserver = js.node.Http.createServer( cast app );\n\t\tio     = new js.npm.socketio.Server(server);\n\n\t\t// setup\n\t\t// app.set('port', port);\n\n\t\t// use\n\t\tapp.use(new Favicon(Node.__dirname + '/favicon.ico'));\t\t\t// because I like favicons\n\t\tapp.use(new Morgan('dev'));\t\t\t\t\t\t\t\t\t\t// set morgan to log info about our requests for development use.\n\t\tapp.use(BodyParser.json());\t\t\t\t\t\t\t\t\t\t// support json encoded bodies\n\t\tapp.use(BodyParser.urlencoded({ extended: true }));\t\t\t\t// initialize body-parser to parse incoming parameters requests to req.body\n\t\tapp.use(new Static(Path.join(Node.__dirname, 'public')));\n\t\tapp.use(new CookieParser());\t\t\t\t\t\t\t\t\t// initialize cookie-parser to allow us access the cookies stored in the browser.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// initialize express-session to allow us track the logged-in user across sessions.\n\t\tapp.use(new Session({\n\t\t\tname: 'user_sid',\n\t\t\tsecret: 'skeleton_123_randomstuff',\n\t\t\tresave: false,\n\t\t\tsaveUninitialized: false,\n\t\t\tcookie: {\n\t\t\t\tmaxAge: 600000\n\t\t\t}\n\n\t\t}));\n\t\tapp.use(untyped checkAuth ); \t\t\t\t\t\t\t\t\t// need to fix this in the externs\n\n\t\t// Routes\n\t\tRouter.init(app); \t\t\t\t\t\t\t\t\t\t\t\t// init router\n\n\t\t// socket stuff\n\t\tio.on('connection', function (socket) {\n\t\t\tsocket.emit('message', { message: 'Welcome from the Heroku server - ${App.PROJECT_NAME}' });\n\t\t\tsocket.on('send', function (data:Dynamic) {\n\t\t\t\tio.sockets.emit('id', data.id);\n\t\t\t\ttrace('send data -> ' + data.id);\n\t\t\t});\n\t\t\tsocket.on('disconnect', function (data:Dynamic) {\n        \t\tconsole.log('user disconnected');\n    \t\t});\n\t\t\tsocket.on('toggle', function (data:Dynamic) {\n        \t\tconsole.log('server toggle: ${data}');\n\t\t\t\tvar isChecked = data.checked;\n\t\t\t\tif(isChecked){\n\t\t\t\t\ttrace('server - toggle : TRUE : isChecked : ${isChecked}');\n\t\t\t\t\t// reset toggle after 3 seconds\n\t\t\t\t\thaxe.Timer.delay(function (){\n\t\t\t\t\t\ttrace('server - toggle - reset after 3 seconds');\n\t\t\t\t\t\tio.sockets.emit('toggle', {checked:false});\n\t\t\t\t\t}, 3000);\n\t\t\t\t} else {\n\t\t\t\t\ttrace('server - toggle : FALSE : isChecked : ${isChecked}');\n\t\t\t\t}\n    \t\t});\n\t\t\tsocket.on(\"list:get\", function (data){\n\t\t\t\ttrace(\"yesssssssss\");\n\t\t\t});\n\t\t});\n\n\t\t// use this last...\n\t\tapp.use(function(req, res, next) {\n\t\t\tres.status(404).send('404');\n\t\t\t// res.status(404).send(output);\n\t\t});\n\n\t\t// server.listen(app.get('port'));\n\t\t// trace('Listening on port: ${app.get('port')} (http://localhost:${app.get('port')})');\n\t\tserver.listen(port);\n\t\ttrace('Listening on port: ${port} (http://localhost:${port})');\n\t}\n\n\t/**\n\t *  this function needs to be moved to Router (I guess?)\n\t *  @param req -\n\t *  @param res -\n\t *  @param next -\n\t */\n\tfunction checkAuth (req:Dynamic, res, next) {\n\t\t// console.log('checkAuth ' + req.url);\n\t\t// trace('${req.url}');\n\t\t// trace('${req.session}');\n\t\t// trace('${req.session.authenticated }');\n\n\t\tvar loginPathArray = ['/secure', '/secure1'];\n\t\tvar secureURL = false;\n\t\tfor (i in loginPathArray){\n\t\t\tif(i == req.url) secureURL = true;\n\t\t}\n\n\t\t// don't serve /secure to those not logged in\n\t\t// you should add to this list, for each and every secure url\n\t\t// if (req.url == '/secure' && (req.session == null || req.session.authenticated != true)) {\n\t\tif (secureURL && (req.session == null || req.session.authenticated != true)) {\n\t\t\tres.redirect('/login');\n\t\t\t// res.sendStatus(401);\n\t\t\treturn;\n\t\t}\n\t\tnext();\n\t}\n\n\tstatic public function main () {\n\t\tvar app = new MainHeroku ();\n\t}\n}\n\n\n\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n@:coreApi class Reflect {\n\n\t@:pure\n\tpublic inline static function hasField( o : Dynamic, field : String ) : Bool {\n\t\treturn untyped __js__('Object').prototype.hasOwnProperty.call(o, field);\n\t}\n\n\tpublic static function field( o : Dynamic, field : String ) : Dynamic {\n\t\ttry return untyped o[field] catch( e : Dynamic ) return null;\n\t}\n\n\tpublic inline static function setField( o : Dynamic, field : String, value : Dynamic ) : Void untyped {\n\t\to[field] = value;\n\t}\n\n\tpublic static function getProperty( o : Dynamic, field : String ) : Dynamic untyped {\n\t\tvar tmp;\n\t\treturn if( o == null ) __define_feature__(\"Reflect.getProperty\",null) else if( o.__properties__ && (tmp=o.__properties__[\"get_\"+field]) ) o[tmp]() else o[field];\n\t}\n\n\tpublic static function setProperty( o : Dynamic, field : String, value : Dynamic ) : Void untyped {\n\t\tvar tmp;\n\t\tif( o.__properties__ && (tmp=o.__properties__[\"set_\"+field]) ) o[tmp](value) else o[field] = __define_feature__(\"Reflect.setProperty\",value);\n\t}\n\n\tpublic inline static function callMethod( o : Dynamic, func : haxe.Constraints.Function, args : Array<Dynamic> ) : Dynamic untyped {\n\t\treturn func.apply(o,args);\n\t}\n\n\tpublic static function fields( o : Dynamic ) : Array<String> {\n\t\tvar a = [];\n\t\tif (o != null) untyped {\n\t\t\tvar hasOwnProperty = __js__('Object').prototype.hasOwnProperty;\n\t\t\t__js__(\"for( var f in o ) {\");\n\t\t\tif( f != \"__id__\" && f != \"hx__closures__\" && hasOwnProperty.call(o, f) ) a.push(f);\n\t\t\t__js__(\"}\");\n\t\t}\n\t\treturn a;\n\t}\n\n\tpublic static function isFunction( f : Dynamic ) : Bool untyped {\n\t\treturn __js__(\"typeof(f)\") == \"function\" && !(js.Boot.isClass(f) || js.Boot.isEnum(f));\n\t}\n\n\tpublic static function compare<T>( a : T, b : T ) : Int {\n\t\treturn ( a == b ) ? 0 : (((cast a) > (cast b)) ? 1 : -1);\n\t}\n\n\tpublic static function compareMethods( f1 : Dynamic, f2 : Dynamic ) : Bool {\n\t\tif( f1 == f2 )\n\t\t\treturn true;\n\t\tif( !isFunction(f1) || !isFunction(f2) )\n\t\t\treturn false;\n\t\treturn f1.scope == f2.scope && f1.method == f2.method && f1.method != null;\n\t}\n\n\tpublic static function isObject( v : Dynamic ) : Bool untyped {\n\t\tif( v == null )\n\t\t\treturn false;\n\t\tvar t = __js__(\"typeof(v)\");\n\t\treturn (t == \"string\" || (t == \"object\" && v.__enum__ == null)) || (t == \"function\" && (js.Boot.isClass(v) || js.Boot.isEnum(v)) != null);\n\t}\n\n\tpublic static function isEnumValue( v : Dynamic ) : Bool {\n\t\treturn v != null && v.__enum__ != null;\n\t}\n\n\tpublic static function deleteField( o : Dynamic, field : String ) : Bool untyped {\n\t\tif( !hasField(o,field) ) return false;\n\t\t__js__(\"delete\")(o[field]);\n\t\treturn true;\n\t}\n\n\tpublic static function copy<T>( o : T ) : T {\n\t\tvar o2 : Dynamic = {};\n\t\tfor( f in Reflect.fields(o) )\n\t\t\tReflect.setField(o2,f,Reflect.field(o,f));\n\t\treturn o2;\n\t}\n\n\t@:overload(function( f : Array<Dynamic> -> Void ) : Dynamic {})\n\tpublic static function makeVarArgs( f : Array<Dynamic> -> Dynamic ) : Dynamic {\n\t\treturn function() {\n\t\t\tvar a = untyped Array.prototype.slice.call(__js__(\"arguments\"));\n\t\t\treturn f(a);\n\t\t};\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\nimport js.Boot;\n\n@:keepInit\n@:coreApi class Std {\n\n\tpublic static inline function is( v : Dynamic, t : Dynamic ) : Bool {\n\t\treturn untyped js.Boot.__instanceof(v,t);\n\t}\n\n\tpublic static inline function instance<T:{},S:T>( value : T, c : Class<S> ) : S {\n\t\treturn untyped __instanceof__(value, c) ? cast value : null;\n\t}\n\n\t@:pure\n\tpublic static function string( s : Dynamic ) : String {\n\t\treturn untyped js.Boot.__string_rec(s,\"\");\n\t}\n\n\tpublic static inline function int( x : Float ) : Int {\n\t\treturn (cast x) | 0;\n\t}\n\n\t@:pure\n\tpublic static function parseInt( x : String ) : Null<Int> {\n\t\tvar v = untyped __js__(\"parseInt\")(x, 10);\n\t\t// parse again if hexadecimal\n\t\tif( v == 0 && (x.charCodeAt(1) == 'x'.code || x.charCodeAt(1) == 'X'.code) )\n\t\t\tv = untyped __js__(\"parseInt\")(x);\n\t\tif( untyped __js__(\"isNaN\")(v) )\n\t\t\treturn null;\n\t\treturn cast v;\n\t}\n\n\tpublic static inline function parseFloat( x : String ) : Float {\n\t\treturn untyped __js__(\"parseFloat\")(x);\n\t}\n\n\tpublic static function random( x : Int ) : Int {\n\t\treturn x <= 0 ? 0 : Math.floor(Math.random()*x);\n\t}\n\n\tstatic function __init__() : Void untyped {\n\t\t__feature__(\"js.Boot.getClass\",String.prototype.__class__ = __feature__(\"Type.resolveClass\",$hxClasses[\"String\"] = String,String));\n\t\t__feature__(\"js.Boot.isClass\",String.__name__ = __feature__(\"Type.getClassName\",[\"String\"],true));\n\t\t__feature__(\"Type.resolveClass\",$hxClasses[\"Array\"] = Array);\n\t\t__feature__(\"js.Boot.isClass\",Array.__name__ = __feature__(\"Type.getClassName\",[\"Array\"],true));\n\t\t__feature__(\"Date.*\", {\n\t\t\t__feature__(\"js.Boot.getClass\",__js__('Date').prototype.__class__ = __feature__(\"Type.resolveClass\",$hxClasses[\"Date\"] = __js__('Date'),__js__('Date')));\n\t\t\t__feature__(\"js.Boot.isClass\",__js__('Date').__name__ = [\"Date\"]);\n\t\t});\n\t\t__feature__(\"Int.*\",{\n\t\t\tvar Int = __feature__(\"Type.resolveClass\", $hxClasses[\"Int\"] = { __name__ : [\"Int\"] }, { __name__ : [\"Int\"] });\n\t\t});\n\t\t__feature__(\"Dynamic.*\",{\n\t\t\tvar Dynamic = __feature__(\"Type.resolveClass\", $hxClasses[\"Dynamic\"] = { __name__ : [\"Dynamic\"] }, { __name__ : [\"Dynamic\"] });\n\t\t});\n\t\t__feature__(\"Float.*\",{\n\t\t\tvar Float = __feature__(\"Type.resolveClass\", $hxClasses[\"Float\"] = __js__(\"Number\"), __js__(\"Number\"));\n\t\t\tFloat.__name__ = [\"Float\"];\n\t\t});\n\t\t__feature__(\"Bool.*\",{\n\t\t\tvar Bool = __feature__(\"Type.resolveEnum\",$hxClasses[\"Bool\"] = __js__(\"Boolean\"), __js__(\"Boolean\"));\n\t\t\tBool.__ename__ = [\"Bool\"];\n\t\t});\n\t\t__feature__(\"Class.*\",{\n\t\t\tvar Class = __feature__(\"Type.resolveClass\", $hxClasses[\"Class\"] = { __name__ : [\"Class\"] }, { __name__ : [\"Class\"] });\n\t\t});\n\t\t__feature__(\"Enum.*\",{\n\t\t\tvar Enum = {};\n\t\t});\n\t\t__feature__(\"Void.*\",{\n\t\t\tvar Void = __feature__(\"Type.resolveEnum\", $hxClasses[\"Void\"] = { __ename__ : [\"Void\"] }, { __ename__ : [\"Void\"] });\n\t\t});\n\n#if (js_es < 5)\n\t\t__feature__(\"Array.map\",\n\t\t\tif( Array.prototype.map == null )\n\t\t\t\tArray.prototype.map = function(f) {\n\t\t\t\t\tvar a = [];\n\t\t\t\t\tfor( i in 0...__this__.length )\n\t\t\t\t\t\ta[i] = f(__this__[i]);\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t);\n\t\t__feature__(\"Array.filter\",\n\t\t\tif( Array.prototype.filter == null )\n\t\t\t\tArray.prototype.filter = function(f) {\n\t\t\t\t\tvar a = [];\n\t\t\t\t\tfor( i in 0...__this__.length ) {\n\t\t\t\t\t\tvar e = __this__[i];\n\t\t\t\t\t\tif( f(e) ) a.push(e);\n\t\t\t\t\t}\n\t\t\t\t\treturn a;\n\t\t\t\t}\n\t\t);\n#end\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\n/**\n\tA String buffer is an efficient way to build a big string by appending small\n\telements together.\n\n\tIts cross-platform implementation uses String concatenation internally, but\n\tStringBuf may be optimized for different targets.\n\n\tUnlike String, an instance of StringBuf is not immutable in the sense that\n\tit can be passed as argument to functions which modify it by appending more\n\tvalues. However, the internal buffer cannot be modified.\n**/\nclass StringBuf {\n\n\tvar b:String;\n\n\t/**\n\t\tThe length of `this` StringBuf in characters.\n\t**/\n\tpublic var length(get,never) : Int;\n\n\t/**\n\t\tCreates a new StringBuf instance.\n\n\t\tThis may involve initialization of the internal buffer.\n\t**/\n\tpublic inline function new() {\n\t\tb = \"\";\n\t}\n\n\tinline function get_length() : Int {\n\t\treturn b.length;\n\t}\n\n\t/**\n\t\tAppends the representation of `x` to `this` StringBuf.\n\n\t\tThe exact representation of `x` may vary per platform. To get more\n\t\tconsistent behavior, this function should be called with\n\t\tStd.string(x).\n\n\t\tIf `x` is null, the String \"null\" is appended.\n\t**/\n\tpublic inline function add<T>( x : T ) : Void {\n\t\tb += x;\n\t}\n\n\t/**\n\t\tAppends the character identified by `c` to `this` StringBuf.\n\n\t\tIf `c` is negative or has another invalid value, the result is\n\t\tunspecified.\n\t**/\n\tpublic inline function addChar( c : Int ) : Void {\n\t\tb += String.fromCharCode(c);\n\t}\n\n\t/**\n\t\tAppends a substring of `s` to `this` StringBuf.\n\n\t\tThis function expects `pos` and `len` to describe a valid substring of\n\t\t`s`, or else the result is unspecified. To get more robust behavior,\n\t\t`this.add(s.substr(pos,len))` can be used instead.\n\n\t\tIf `s` or `pos` are null, the result is unspecified.\n\n\t\tIf `len` is omitted or null, the substring ranges from `pos` to the end\n\t\tof `s`.\n\t**/\n\tpublic inline function addSub( s : String, pos : Int, ?len : Int) : Void {\n\t\tb += (len == null ? s.substr(pos) : s.substr(pos, len));\n\t}\n\n\t/**\n\t\tReturns the content of `this` StringBuf as String.\n\n\t\tThe buffer is not emptied by this operation.\n\t**/\n\tpublic inline function toString() : String {\n\t\treturn b;\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe;\n\nprivate enum TemplateExpr {\n\tOpVar( v : String );\n\tOpExpr( expr :  Void -> Dynamic );\n\tOpIf( expr : Void -> Dynamic,  eif : TemplateExpr, eelse : TemplateExpr );\n\tOpStr( str : String );\n\tOpBlock( l : List<TemplateExpr> );\n\tOpForeach( expr : Void -> Dynamic, loop : TemplateExpr );\n\tOpMacro( name : String, params : List<TemplateExpr> );\n}\n\nprivate typedef Token = {\n\tvar s : Bool;\n\tvar p : String;\n\tvar l : Array<String>;\n}\n\nprivate typedef ExprToken = {\n\tvar s : Bool;\n\tvar p : String;\n}\n\n/**\n\tTemplate provides a basic templating mechanism to replace values in a source\n\tString, and to have some basic logic.\n\n\tA complete documentation of the supported syntax is available at:\n\t<https://haxe.org/manual/std-template.html>\n**/\nclass Template {\n\n\tstatic var splitter = ~/(::[A-Za-z0-9_ ()&|!+=\\/><*.\"-]+::|\\$\\$([A-Za-z0-9_-]+)\\()/;\n\tstatic var expr_splitter = ~/(\\(|\\)|[ \\r\\n\\t]*\"[^\"]*\"[ \\r\\n\\t]*|[!+=\\/><*.&|-]+)/;\n\tstatic var expr_trim = ~/^[ ]*([^ ]+)[ ]*$/;\n\tstatic var expr_int = ~/^[0-9]+$/;\n\tstatic var expr_float = ~/^([+-]?)(?=\\d|,\\d)\\d*(,\\d*)?([Ee]([+-]?\\d+))?$/;\n\n\t/**\n\t\tGlobal replacements which are used across all Template instances. This\n\t\thas lower priority than the context argument of execute().\n\t**/\n\tpublic static var globals : Dynamic = {};\n\n\tvar expr : TemplateExpr;\n\tvar context : Dynamic;\n\tvar macros : Dynamic;\n\tvar stack : List<Dynamic>;\n\tvar buf : StringBuf;\n\n\t/**\n\t\tCreates a new Template instance from `str`.\n\n\t\t`str` is parsed into tokens, which are stored for internal use. This\n\t\tmeans that multiple execute() operations on a single Template instance\n\t\tare more efficient than one execute() operations on multiple Template\n\t\tinstances.\n\n\t\tIf `str` is null, the result is unspecified.\n\t**/\n\tpublic function new( str : String ) {\n\t\tvar tokens = parseTokens(str);\n\t\texpr = parseBlock(tokens);\n\t\tif( !tokens.isEmpty() )\n\t\t\tthrow \"Unexpected '\"+tokens.first().s+\"'\";\n\t}\n\n\t/**\n\t\tExecutes `this` Template, taking into account `context` for\n\t\treplacements and `macros` for callback functions.\n\n\t\tIf `context` has a field 'name', its value replaces all occurrences of\n\t\t::name:: in the Template. Otherwise Template.globals is checked instead,\n\t\tIf 'name' is not a field of that either, ::name:: is replaced with null.\n\n\t\tIf `macros` has a field 'name', all occurrences of $$name(args) are\n\t\treplaced with the result of calling that field. The first argument is\n\t\talways the resolve() method, followed by the given arguments.\n\t\tIf `macros` has no such field, the result is unspecified.\n\n\t\tIf `context` is null, the result is unspecified. If `macros` is null,\n\t\tno macros are used.\n\t**/\n\tpublic function execute( context : Dynamic, ?macros : Dynamic ):String {\n\t\tthis.macros = if( macros == null ) {} else macros;\n\t\tthis.context = context;\n\t\tstack = new List();\n\t\tbuf = new StringBuf();\n\t\trun(expr);\n\t\treturn buf.toString();\n\t}\n\n\tfunction resolve( v : String ) : Dynamic {\n\t\tif( v == \"__current__\" )\n\t\t\treturn context;\n\t\tvar value = Reflect.getProperty(context, v);\n\t\tif( value != null || Reflect.hasField(context,v) )\n\t\t\treturn value;\n\t\tfor( ctx in stack ) {\n\t\t\tvalue = Reflect.getProperty(ctx,v);\n\t\t\tif( value != null || Reflect.hasField(ctx,v) )\n\t\t\t\treturn value;\n\t\t}\n\t\treturn Reflect.field(globals,v);\n\t}\n\n\tfunction parseTokens( data : String ) {\n\t\tvar tokens = new List<Token>();\n\t\twhile( splitter.match(data) ) {\n\t\t\tvar p = splitter.matchedPos();\n\t\t\tif( p.pos > 0 )\n\t\t\t\ttokens.add({ p : data.substr(0,p.pos), s : true, l : null });\n\n\t\t\t// : ?\n\t\t\tif( data.charCodeAt(p.pos) == 58 ) {\n\t\t\t\ttokens.add({ p : data.substr(p.pos + 2,p.len - 4), s : false, l : null });\n\t\t\t\tdata = splitter.matchedRight();\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// macro parse\n\t\t\tvar parp = p.pos + p.len;\n\t\t\tvar npar = 1;\n\t\t\tvar params = [];\n\t\t\tvar part = \"\";\n\t\t\twhile( true ) {\n\t\t\t\tvar c = data.charCodeAt(parp);\n\t\t\t\tparp++;\n\t\t\t\tif( c == 40 ) {\n\t\t\t\t\tnpar++;\n\t\t\t\t} else if( c == 41 ) {\n\t\t\t\t\tnpar--;\n\t\t\t\t\tif (npar <= 0) break;\n\t\t\t\t} else if( c == null ){\n\t\t\t\t\tthrow \"Unclosed macro parenthesis\";\n\t\t\t\t}\n\t\t\t\tif ( c == 44 && npar == 1) {\n\t\t\t\t\tparams.push(part);\n\t\t\t\t\tpart = \"\";\n\t\t\t\t} else {\n\t\t\t\t\tpart += String.fromCharCode(c);\n\t\t\t\t}\n\t\t\t}\n\t\t\tparams.push(part);\n\t\t\ttokens.add({ p : splitter.matched(2), s : false, l : params });\n\t\t\tdata = data.substr(parp,data.length - parp);\n\t\t}\n\t\tif( data.length > 0 )\n\t\t\ttokens.add({ p : data, s : true, l : null });\n\t\treturn tokens;\n\t}\n\n\tfunction parseBlock( tokens : List<Token> ) {\n\t\tvar l = new List();\n\t\twhile( true ) {\n\t\t\tvar t = tokens.first();\n\t\t\tif( t == null )\n\t\t\t\tbreak;\n\t\t\tif( !t.s && (t.p == \"end\" || t.p == \"else\" || t.p.substr(0,7) == \"elseif \") )\n\t\t\t\tbreak;\n\t\t\tl.add(parse(tokens));\n\t\t}\n\t\tif( l.length == 1 )\n\t\t\treturn l.first();\n\t\treturn OpBlock(l);\n\t}\n\n\tfunction parse( tokens : List<Token> ) {\n\t\tvar t = tokens.pop();\n\t\tvar p = t.p;\n\t\tif( t.s )\n\t\t\treturn OpStr(p);\n\t\t// macro\n\t\tif( t.l != null ) {\n\t\t\tvar pe = new List();\n\t\t\tfor( p in t.l )\n\t\t\t\tpe.add(parseBlock(parseTokens(p)));\n\t\t\treturn OpMacro(p,pe);\n\t\t}\n\t\t// 'end' , 'else', 'elseif' can't be found here\n\t\tif( p.substr(0,3) == \"if \" ) {\n\t\t\tp = p.substr(3,p.length - 3);\n\t\t\tvar e = parseExpr(p);\n\t\t\tvar eif = parseBlock(tokens);\n\t\t\tvar t = tokens.first();\n\t\t\tvar eelse;\n\t\t\tif( t == null )\n\t\t\t\tthrow \"Unclosed 'if'\";\n\t\t\tif( t.p == \"end\" ) {\n\t\t\t\ttokens.pop();\n\t\t\t\teelse = null;\n\t\t\t} else if( t.p == \"else\" ) {\n\t\t\t\ttokens.pop();\n\t\t\t\teelse = parseBlock(tokens);\n\t\t\t\tt = tokens.pop();\n\t\t\t\tif( t == null || t.p != \"end\" )\n\t\t\t\t\tthrow \"Unclosed 'else'\";\n\t\t\t} else { // elseif\n\t\t\t\tt.p = t.p.substr(4,t.p.length - 4);\n\t\t\t\teelse = parse(tokens);\n\t\t\t}\n\t\t\treturn OpIf(e,eif,eelse);\n\t\t}\n\t\tif( p.substr(0,8) == \"foreach \" ) {\n\t\t\tp = p.substr(8,p.length - 8);\n\t\t\tvar e = parseExpr(p);\n\t\t\tvar efor = parseBlock(tokens);\n\t\t\tvar t = tokens.pop();\n\t\t\tif( t == null || t.p != \"end\" )\n\t\t\t\tthrow \"Unclosed 'foreach'\";\n\t\t\treturn OpForeach(e,efor);\n\t\t}\n\t\tif( expr_splitter.match(p) )\n\t\t\treturn OpExpr(parseExpr(p));\n\t\treturn OpVar(p);\n\t}\n\n\tfunction parseExpr( data : String ) {\n\t\tvar l = new List<ExprToken>();\n\t\tvar expr = data;\n\t\twhile( expr_splitter.match(data) ) {\n\t\t\tvar p = expr_splitter.matchedPos();\n\t\t\tvar k = p.pos + p.len;\n\t\t\tif( p.pos != 0 )\n\t\t\t\tl.add({ p : data.substr(0,p.pos), s : true });\n\t\t\tvar p = expr_splitter.matched(0);\n\t\t\tl.add({ p : p, s : p.indexOf('\"') >= 0 });\n\t\t\tdata = expr_splitter.matchedRight();\n\t\t}\n\t\tif( data.length != 0 )\n\t\t\tl.add({ p : data, s : true });\n\t\tvar e:Void->Dynamic;\n\t\ttry {\n\t\t\te = makeExpr(l);\n\t\t\tif( !l.isEmpty() )\n\t\t\t\tthrow l.first().p;\n\t\t} catch( s : String ) {\n\t\t\tthrow \"Unexpected '\"+s+\"' in \"+expr;\n\t\t}\n\t\treturn function() {\n\t\t\ttry {\n\t\t\t\treturn e();\n\t\t\t} catch( exc : Dynamic ) {\n\t\t\t\tthrow \"Error : \"+Std.string(exc)+\" in \"+expr;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction makeConst( v : String ) : Void -> Dynamic {\n\t\texpr_trim.match(v);\n\t\tv = expr_trim.matched(1);\n\t\tif( v.charCodeAt(0) == 34 ) {\n\t\t\tvar str = v.substr(1,v.length-2);\n\t\t\treturn function() return str;\n\t\t}\n\t\tif( expr_int.match(v) ) {\n\t\t\tvar i = Std.parseInt(v);\n\t\t\treturn function() { return i; };\n\t\t}\n\t\tif( expr_float.match(v) ) {\n\t\t\tvar f = Std.parseFloat(v);\n\t\t\treturn function() { return f; };\n\t\t}\n\t\tvar me = this;\n\t\treturn function() { return me.resolve(v); };\n\t}\n\n\tfunction makePath( e : Void -> Dynamic, l : List<ExprToken> ) {\n\t\tvar p = l.first();\n\t\tif( p == null || p.p != \".\" )\n\t\t\treturn e;\n\t\tl.pop();\n\t\tvar field = l.pop();\n\t\tif( field == null || !field.s )\n\t\t\tthrow field.p;\n\t\tvar f = field.p;\n\t\texpr_trim.match(f);\n\t\tf = expr_trim.matched(1);\n\t\treturn makePath(function() { return Reflect.field(e(),f); },l);\n\t}\n\n\tfunction makeExpr( l ) {\n\t\treturn makePath(makeExpr2(l),l);\n\t}\n\n\tfunction makeExpr2( l : List<ExprToken> ) : Void -> Dynamic {\n\t\tvar p = l.pop();\n\t\tif( p == null )\n\t\t\tthrow \"<eof>\";\n\t\tif( p.s )\n\t\t\treturn makeConst(p.p);\n\t\tswitch( p.p ) {\n\t\tcase \"(\":\n\t\t\tvar e1:Dynamic = makeExpr(l);\n\t\t\tvar p = l.pop();\n\t\t\tif( p == null || p.s )\n\t\t\t\tthrow p;\n\t\t\tif( p.p == \")\" )\n\t\t\t\treturn e1;\n\t\t\tvar e2:Dynamic = makeExpr(l);\n\t\t\tvar p2 = l.pop();\n\t\t\tif( p2 == null || p2.p != \")\" )\n\t\t\t\tthrow p2;\n\t\t\treturn switch( p.p ) {\n\t\t\tcase \"+\": function() { return cast e1() + e2(); };\n\t\t\tcase \"-\": function() { return cast e1() - e2(); };\n\t\t\tcase \"*\": function() { return cast e1() * e2(); };\n\t\t\tcase \"/\": function() { return cast e1() / e2(); };\n\t\t\tcase \">\": function() { return cast e1() > e2(); };\n\t\t\tcase \"<\": function() { return cast e1() < e2(); };\n\t\t\tcase \">=\": function() { return cast e1() >= e2(); };\n\t\t\tcase \"<=\": function() { return cast e1() <= e2(); };\n\t\t\tcase \"==\": function() { return cast e1() == e2(); };\n\t\t\tcase \"!=\": function() { return cast e1() != e2(); };\n\t\t\tcase \"&&\": function() { return cast e1() && e2(); };\n\t\t\tcase \"||\": function() { return cast e1() || e2(); };\n\t\t\tdefault: throw \"Unknown operation \"+p.p;\n\t\t\t}\n\t\tcase \"!\":\n\t\t\tvar e : Void->Dynamic = makeExpr(l);\n\t\t\treturn function() {\n\t\t\t\tvar v : Dynamic = e();\n\t\t\t\treturn (v == null || v == false);\n\t\t\t};\n\t\tcase \"-\":\n\t\t\tvar e = makeExpr(l);\n\t\t\treturn function() { return -e(); };\n\t\t}\n\t\tthrow p.p;\n\t}\n\n\tfunction run( e : TemplateExpr ) {\n\t\tswitch( e ) {\n\t\tcase OpVar(v):\n\t\t\tbuf.add(Std.string(resolve(v)));\n\t\tcase OpExpr(e):\n\t\t\tbuf.add(Std.string(e()));\n\t\tcase OpIf(e,eif,eelse):\n\t\t\tvar v : Dynamic = e();\n\t\t\tif( v == null || v == false ) {\n\t\t\t\tif( eelse != null ) run(eelse);\n\t\t\t} else\n\t\t\t\trun(eif);\n\t\tcase OpStr(str):\n\t\t\tbuf.add(str);\n\t\tcase OpBlock(l):\n\t\t\tfor( e in l )\n\t\t\t\trun(e);\n\t\tcase OpForeach(e,loop):\n\t\t\tvar v : Dynamic = e();\n\t\t\ttry {\n\t\t\t\tvar x : Dynamic = v.iterator();\n\t\t\t\tif( x.hasNext == null ) throw null;\n\t\t\t\tv = x;\n\t\t\t} catch( e : Dynamic ) try {\n\t\t\t\tif( v.hasNext == null ) throw null;\n\t\t\t} catch( e : Dynamic ) {\n\t\t\t\tthrow \"Cannot iter on \" + v;\n\t\t\t}\n\t\t\tstack.push(context);\n\t\t\tvar v : Iterator<Dynamic> = v;\n\t\t\tfor( ctx in v ) {\n\t\t\t\tcontext = ctx;\n\t\t\t\trun(loop);\n\t\t\t}\n\t\t\tcontext = stack.pop();\n\t\tcase OpMacro(m,params):\n\t\t\tvar v : Dynamic = Reflect.field(macros,m);\n\t\t\tvar pl = new Array<Dynamic>();\n\t\t\tvar old = buf;\n\t\t\tpl.push(resolve);\n\t\t\tfor( p in params ) {\n\t\t\t\tswitch( p ) {\n\t\t\t\tcase OpVar(v): pl.push(resolve(v));\n\t\t\t\tdefault:\n\t\t\t\t\tbuf = new StringBuf();\n\t\t\t\t\trun(p);\n\t\t\t\t\tpl.push(buf.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf = old;\n\t\t\ttry {\n\t\t\t\tbuf.add(Std.string(Reflect.callMethod(macros,v,pl)));\n\t\t\t} catch( e : Dynamic ) {\n\t\t\t\tvar plstr = try pl.join(\",\") catch( e : Dynamic ) \"???\";\n\t\t\t\tvar msg = \"Macro call \"+m+\"(\"+plstr+\") failed (\"+Std.string(e)+\")\";\n\t\t\t\t#if neko\n\t\t\t\tneko.Lib.rethrow(msg);\n\t\t\t\t#else\n\t\t\t\tthrow msg;\n\t\t\t\t#end\n\t\t\t}\n\t\t}\n\t}\n\n}\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage haxe;\n\n/**\n\tThe Timer class allows you to create asynchronous timers on platforms that\n\tsupport events.\n\n\tThe intended usage is to create an instance of the Timer class with a given\n\tinterval, set its run() method to a custom function to be invoked and\n\teventually call stop() to stop the Timer.\n\n\tNote that a running Timer may or may not prevent the program to exit\n\tautomatically when main() returns.\n\n\tIt is also possible to extend this class and override its run() method in\n\tthe child class.\n**/\nclass Timer {\n\n\t#if (flash || js)\n\t\tprivate var id : Null<Int>;\n\t#elseif java\n\t\tprivate var timer : java.util.Timer;\n\t\tprivate var task : java.util.TimerTask;\n\t#else\n\t\tprivate var event : MainLoop.MainEvent;\n\t#end\n\n\t/**\n\t\tCreates a new timer that will run every `time_ms` milliseconds.\n\n\t\tAfter creating the Timer instance, it calls `this.run` repeatedly,\n\t\twith delays of `time_ms` milliseconds, until `this.stop` is called.\n\n\t\tThe first invocation occurs after `time_ms` milliseconds, not\n\t\timmediately.\n\n\t\tThe accuracy of this may be platform-dependent.\n\t**/\n\tpublic function new( time_ms : Int ){\n\t\t#if flash\n\t\t\tvar me = this;\n\t\t\tid = untyped __global__[\"flash.utils.setInterval\"](function() { me.run(); },time_ms);\n\t\t#elseif js\n\t\t\tvar me = this;\n\t\t\tid = untyped setInterval(function() me.run(),time_ms);\n\t\t#elseif java\n\t\t\ttimer = new java.util.Timer();\n\t\t\ttimer.scheduleAtFixedRate(task = new TimerTask(this), haxe.Int64.ofInt(time_ms), haxe.Int64.ofInt(time_ms));\n\t\t#else\n\t\t\tvar dt = time_ms / 1000;\n\t\t\tevent = MainLoop.add(function() {\n\t\t\t\t@:privateAccess event.nextRun += dt;\n\t\t\t\trun();\n\t\t\t});\n\t\t\tevent.delay(dt);\n\t\t#end\n\t}\n\n\t/**\n\t\tStops `this` Timer.\n\n\t\tAfter calling this method, no additional invocations of `this.run`\n\t\twill occur.\n\n\t\tIt is not possible to restart `this` Timer once stopped.\n\t**/\n\tpublic function stop() {\n\t\t#if (flash || js)\n\t\t\tif( id == null )\n\t\t\t\treturn;\n\t\t\t#if flash\n\t\t\t\tuntyped __global__[\"flash.utils.clearInterval\"](id);\n\t\t\t#elseif js\n\t\t\t\tuntyped clearInterval(id);\n\t\t\t#end\n\t\t\tid = null;\n\t\t#elseif java\n\t\t\tif(timer != null) {\n\t\t\t\ttimer.cancel();\n\t\t\t\ttimer = null;\n\t\t\t}\n\t\t\ttask = null;\n\t\t#else\n\t\t\tif( event != null ) {\n\t\t\t\tevent.stop();\n\t\t\t\tevent = null;\n\t\t\t}\n\t\t#end\n\t}\n\n\t/**\n\t\tThis method is invoked repeatedly on `this` Timer.\n\n\t\tIt can be overridden in a subclass, or rebound directly to a custom\n\t\tfunction:\n\t\t\tvar timer = new haxe.Timer(1000); // 1000ms delay\n\t\t\ttimer.run = function() { ... }\n\n\t\tOnce bound, it can still be rebound to different functions until `this`\n\t\tTimer is stopped through a call to `this.stop`.\n\t**/\n\tpublic dynamic function run() {\n\n\t}\n\n\t/**\n\t\tInvokes `f` after `time_ms` milliseconds.\n\n\t\tThis is a convenience function for creating a new Timer instance with\n\t\t`time_ms` as argument, binding its run() method to `f` and then stopping\n\t\t`this` Timer upon the first invocation.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function delay( f : Void -> Void, time_ms : Int ) {\n\t\tvar t = new haxe.Timer(time_ms);\n\t\tt.run = function() {\n\t\t\tt.stop();\n\t\t\tf();\n\t\t};\n\t\treturn t;\n\t}\n\n\t/**\n\t\tMeasures the time it takes to execute `f`, in seconds with fractions.\n\n\t\tThis is a convenience function for calculating the difference between\n\t\tTimer.stamp() before and after the invocation of `f`.\n\n\t\tThe difference is passed as argument to Log.trace(), with \"s\" appended\n\t\tto denote the unit. The optional `pos` argument is passed through.\n\n\t\tIf `f` is null, the result is unspecified.\n\t**/\n\tpublic static function measure<T>( f : Void -> T, ?pos : PosInfos ) : T {\n\t\tvar t0 = stamp();\n\t\tvar r = f();\n\t\tLog.trace((stamp() - t0) + \"s\", pos);\n\t\treturn r;\n\t}\n\n\t/**\n\t\tReturns a timestamp, in seconds with fractions.\n\n\t\tThe value itself might differ depending on platforms, only differences\n\t\tbetween two values make sense.\n\t**/\n\tpublic static inline function stamp() : Float {\n\t\t#if flash\n\t\t\treturn flash.Lib.getTimer() / 1000;\n\t\t#elseif (neko || php)\n\t\t\treturn Sys.time();\n\t\t#elseif js\n\t\t\treturn Date.now().getTime() / 1000;\n\t\t#elseif cpp\n\t\t\treturn untyped __global__.__time_stamp();\n\t\t#elseif python\n\t\t\treturn Sys.cpuTime();\n\t\t#elseif sys\n\t\t\treturn Sys.time();\n\n\t\t#else\n\t\t\treturn 0;\n\t\t#end\n\t}\n\n}\n\n#if java\n@:nativeGen\nprivate class TimerTask extends java.util.TimerTask {\n\tvar timer:Timer;\n\tpublic function new(timer:Timer):Void {\n\t\tsuper();\n\t\tthis.timer = timer;\n\t}\n\n\t@:overload override public function run():Void {\n\t\ttimer.run();\n\t}\n}\n#end\n","/*\n * Copyright (C)2005-2017 Haxe Foundation\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation\n * the rights to use, copy, modify, merge, publish, distribute, sublicense,\n * and/or sell copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n * DEALINGS IN THE SOFTWARE.\n */\npackage js;\n\nprivate class HaxeError extends js.Error {\n\n\tvar val:Dynamic;\n\n\tpublic function new(val:Dynamic) untyped {\n\t\tsuper();\n\t\tthis.val = __define_feature__(\"js.Boot.HaxeError\", val);\n\t\tthis.message = String(val);\n\t\tif (js.Error.captureStackTrace) js.Error.captureStackTrace(this, HaxeError);\n\t}\n\n\tpublic static function wrap(val:Dynamic):Dynamic untyped {\n\t\treturn if (__instanceof__(val, js.Error)) val else new HaxeError(val);\n\t}\n}\n\n@:dox(hide)\nclass Boot {\n\n\tprivate static function __unhtml(s : String) {\n\t\treturn s.split(\"&\").join(\"&amp;\").split(\"<\").join(\"&lt;\").split(\">\").join(\"&gt;\");\n\t}\n\n\tprivate static function __trace(v,i : haxe.PosInfos) {\n\t\tuntyped {\n\t\t\tvar msg = if( i != null ) i.fileName+\":\"+i.lineNumber+\": \" else \"\";\n\t\t\t#if jsfl\n\t\t\tmsg += __string_rec(v,\"\");\n\t\t\tfl.trace(msg);\n\t\t\t#else\n\t\t\tmsg += __string_rec(v, \"\");\n\t\t\tif( i != null && i.customParams != null )\n\t\t\t\tfor( v in i.customParams )\n\t\t\t\t\tmsg += \",\" + __string_rec(v, \"\");\n\t\t\tvar d;\n\t\t\tif( __js__(\"typeof\")(document) != \"undefined\" && (d = document.getElementById(\"haxe:trace\")) != null )\n\t\t\t\td.innerHTML += __unhtml(msg)+\"<br/>\";\n\t\t\telse if( __js__(\"typeof console\") != \"undefined\" && __js__(\"console\").log != null )\n\t\t\t\t__js__(\"console\").log(msg);\n\t\t\t#end\n\t\t}\n\t}\n\n\tprivate static function __clear_trace() {\n\t\tuntyped {\n\t\t\t#if jsfl\n\t\t\tfl.outputPanel.clear();\n\t\t\t#else\n\t\t\tvar d = document.getElementById(\"haxe:trace\");\n\t\t\tif( d != null )\n\t\t\t\td.innerHTML = \"\";\n\t\t\t#end\n\t\t}\n\t}\n\n\tstatic inline function isClass(o:Dynamic) : Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isClass\", o.__name__);\n\t}\n\n\tstatic inline function isEnum(e:Dynamic) : Bool {\n\t\treturn untyped __define_feature__(\"js.Boot.isEnum\", e.__ename__);\n\t}\n\n\tstatic function getClass(o:Dynamic) : Dynamic {\n\t\tif (Std.is(o, Array))\n\t\t\treturn Array;\n\t\telse {\n\t\t\tvar cl = untyped __define_feature__(\"js.Boot.getClass\", o.__class__);\n\t\t\tif (cl != null)\n\t\t\t\treturn cl;\n\t\t\tvar name = __nativeClassName(o);\n\t\t\tif (name != null)\n\t\t\t\treturn __resolveNativeClass(name);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t@:ifFeature(\"has_enum\")\n\tprivate static function __string_rec(o,s:String) {\n\t\tuntyped {\n\t\t\tif( o == null )\n\t\t\t    return \"null\";\n\t\t\tif( s.length >= 5 )\n\t\t\t\treturn \"<...>\"; // too much deep recursion\n\t\t\tvar t = __js__(\"typeof(o)\");\n\t\t\tif( t == \"function\" && (isClass(o) || isEnum(o)) )\n\t\t\t\tt = \"object\";\n\t\t\tswitch( t ) {\n\t\t\tcase \"object\":\n\t\t\t\tif( __js__(\"o instanceof Array\") ) {\n\t\t\t\t\tif( o.__enum__ ) {\n\t\t\t\t\t\tif( o.length == 2 )\n\t\t\t\t\t\t\treturn o[0];\n\t\t\t\t\t\tvar str = o[0]+\"(\";\n\t\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\t\tfor( i in 2...o.length ) {\n\t\t\t\t\t\t\tif( i != 2 )\n\t\t\t\t\t\t\t\tstr += \",\" + __string_rec(o[i],s);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tstr += __string_rec(o[i],s);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn str + \")\";\n\t\t\t\t\t}\n\t\t\t\t\tvar l = o.length;\n\t\t\t\t\tvar i;\n\t\t\t\t\tvar str = \"[\";\n\t\t\t\t\ts += \"\\t\";\n\t\t\t\t\tfor( i in 0...l )\n\t\t\t\t\t\tstr += (if (i > 0) \",\" else \"\")+__string_rec(o[i],s);\n\t\t\t\t\tstr += \"]\";\n\t\t\t\t\treturn str;\n\t\t\t\t}\n\t\t\t\tvar tostr;\n\t\t\t\ttry {\n\t\t\t\t\ttostr = untyped o.toString;\n\t\t\t\t} catch( e : Dynamic ) {\n\t\t\t\t\t// strange error on IE\n\t\t\t\t\treturn \"???\";\n\t\t\t\t}\n\t\t\t\tif( tostr != null && tostr != __js__(\"Object.toString\") && __typeof__(tostr) == \"function\" ) {\n\t\t\t\t\tvar s2 = o.toString();\n\t\t\t\t\tif( s2 != \"[object Object]\")\n\t\t\t\t\t\treturn s2;\n\t\t\t\t}\n\t\t\t\tvar k : String = null;\n\t\t\t\tvar str = \"{\\n\";\n\t\t\t\ts += \"\\t\";\n\t\t\t\tvar hasp = (o.hasOwnProperty != null);\n\t\t\t\t__js__(\"for( var k in o ) {\");\n\t\t\t\t\tif( hasp && !o.hasOwnProperty(k) )\n\t\t\t\t\t\t__js__(\"continue\");\n\t\t\t\t\tif( k == \"prototype\" || k == \"__class__\" || k == \"__super__\" || k == \"__interfaces__\" || k == \"__properties__\" )\n\t\t\t\t\t\t__js__(\"continue\");\n\t\t\t\t\tif( str.length != 2 )\n\t\t\t\t\t\tstr += \", \\n\";\n\t\t\t\t\tstr += s + k + \" : \"+__string_rec(o[k],s);\n\t\t\t\t__js__(\"}\");\n\t\t\t\ts = s.substring(1);\n\t\t\t\tstr += \"\\n\" + s + \"}\";\n\t\t\t\treturn str;\n\t\t\tcase \"function\":\n\t\t\t\treturn \"<function>\";\n\t\t\tcase \"string\":\n\t\t\t\treturn o;\n\t\t\tdefault:\n\t\t\t\treturn String(o);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate static function __interfLoop(cc : Dynamic,cl : Dynamic) {\n\t\tif( cc == null )\n\t\t\treturn false;\n\t\tif( cc == cl )\n\t\t\treturn true;\n\t\tvar intf : Dynamic = cc.__interfaces__;\n\t\tif( intf != null )\n\t\t\tfor( i in 0...intf.length ) {\n\t\t\t\tvar i : Dynamic = intf[i];\n\t\t\t\tif( i == cl || __interfLoop(i,cl) )\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\treturn __interfLoop(cc.__super__,cl);\n\t}\n\n\t@:ifFeature(\"typed_catch\") private static function __instanceof(o : Dynamic,cl : Dynamic) {\n\t\tif( cl == null )\n\t\t\treturn false;\n\t\tswitch( cl ) {\n\t\tcase Int:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"number\" && untyped __js__(\"(o|0) === o\");\n\t\tcase Float:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"number\";\n\t\tcase Bool:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"boolean\";\n\t\tcase String:\n\t\t\treturn (untyped __js__(\"typeof\"))(o) == \"string\";\n\t\tcase Array:\n\t\t\treturn (untyped __js__(\"(o instanceof Array)\")) && o.__enum__ == null;\n\t\tcase Dynamic:\n\t\t\treturn true;\n\t\tdefault:\n\t\t\tif( o != null ) {\n\t\t\t\t// Check if o is an instance of a Haxe class or a native JS object\n\t\t\t\tif( (untyped __js__(\"typeof\"))(cl) == \"function\" ) {\n\t\t\t\t\tif( untyped __js__(\"o instanceof cl\") )\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif( __interfLoop(getClass(o),cl) )\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\telse if ( (untyped __js__(\"typeof\"))(cl) == \"object\" && __isNativeObj(cl) ) {\n\t\t\t\t\tif( untyped __js__(\"o instanceof cl\") )\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// do not use isClass/isEnum here\n\t\t\tuntyped __feature__(\"Class.*\",if( cl == Class && o.__name__ != null ) return true);\n\t\t\tuntyped __feature__(\"Enum.*\",if( cl == Enum && o.__ename__ != null ) return true);\n\t\t\treturn o.__enum__ == cl;\n\t\t}\n\t}\n\n\t@:ifFeature(\"typed_cast\") private static function __cast(o : Dynamic, t : Dynamic) {\n\t\tif (__instanceof(o, t)) return o;\n\t\telse throw \"Cannot cast \" +Std.string(o) + \" to \" +Std.string(t);\n\t}\n\n\tstatic var __toStr = untyped ({}).toString;\n\t// get native JS [[Class]]\n\tstatic function __nativeClassName(o:Dynamic):String {\n\t\tvar name = untyped __toStr.call(o).slice(8, -1);\n\t\t// exclude general Object and Function\n\t\t// also exclude Math and JSON, because instanceof cannot be called on them\n\t\tif (name == \"Object\" || name == \"Function\" || name == \"Math\" || name == \"JSON\")\n\t\t\treturn null;\n\t\treturn name;\n\t}\n\n\t// check for usable native JS object\n\tstatic function __isNativeObj(o:Dynamic):Bool {\n\t\treturn __nativeClassName(o) != null;\n\t}\n\n\t// resolve native JS class in the global scope:\n\tstatic function __resolveNativeClass(name:String) {\n\t\treturn untyped js.Lib.global[name];\n\t}\n\n}\n","package server;\n\nimport js.Node;\nimport js.node.Fs;\nimport js.npm.express.*;\n\nimport js.Node.console;\n\nimport model.constants.App;\n\n// import msignal.Signal;\n\nclass Controller {\n\n\tpublic static function index(req:Request,res:Response) {\n\t\tres.send(Controller.useTemplate(Node.__dirname + '/public/_index.html', Node.__dirname + '/public/_nav.html'));\n\t}\n\tpublic static function about(req:Request,res:Response) {\n\t\tres.send(Controller.useTemplate(Node.__dirname + '/public/_about.html', Node.__dirname + '/public/_nav.html'));\n\t}\n\tpublic static function list(req:Request,res:Response) {\n\t\tres.send(Controller.useTemplate(Node.__dirname + '/public/_list.html', Node.__dirname + '/public/_nav.html'));\n\t}\n\n\tpublic static function ping(req:Request,res:Response) {\n\t\tres.send('test:ping');\n\t\tvar io = MainHeroku.io;\n\t\tio.sockets.emit('test:ping', App.PROJECT_NAME);\n\t}\n\tpublic static function toggle(req:Request,res:Response) {\n\t\t// res.send('toggle');\n\t\tvar io = MainHeroku.io;\n\t\tio.sockets.emit('toggle', App.PROJECT_NAME);\n\t\t// res.sendfile(Node.__dirname + '/public/toggle.html');\n\t\tres.send(Controller.useTemplate(Node.__dirname + '/public/_toggle.html', Node.__dirname + '/public/_nav.html'));\n\n\t}\n\tpublic static function version(req:Request,res:Response) {\n\t\tres.send('version: ${App.BUILD}');\n\t\tvar io = MainHeroku.io;\n\t\tio.sockets.emit('version', App.BUILD);\n\t}\n\tpublic static function secure(req:Request,res:Response) {\n\t\t// res.send('secure: ${App.BUILD}');\n\t\tres.sendfile(Node.__dirname + '/public/secure.html');\n\t\tvar io = MainHeroku.io;\n\t\tio.sockets.emit('version', App.BUILD);\n\t}\n\tpublic static function secure1(req:Request,res:Response) {\n\t\t// res.send('secure: ${App.BUILD}');\n\t\tres.sendfile(Node.__dirname + '/public/secure.html');\n\t\tvar io = MainHeroku.io;\n\t\tio.sockets.emit('version', App.BUILD);\n\t}\n\tpublic static function update(req:Request,res:Response) {\n\t\tres.send('update: ${App.BUILD}');\n\t\tvar io = MainHeroku.io;\n\t\tio.sockets.emit('update', App.BUILD);\n\t}\n\n\tpublic static function useTemplate(htmlPath:String, navPath:String){\n\t\tvar _html = (Fs.readFileSync(htmlPath, 'utf8'));\n\t\tvar _nav = (Fs.readFileSync(navPath, 'utf8'));\n\t\tvar template = new haxe.Template(_html);\n\t\tvar html = template.execute({\"nav\":_nav});\n\t\treturn html;\n\t}\n\n}","package server;\n\nimport js.npm.Express;\nimport server.controller.*;\n\nclass Router {\n\n\tpublic static function init(app : Express):Void\n\t{\n\t\t// home / public\n\t\tapp.get('/', Controller.index);\n\t\tapp.get('/about', Controller.about);\n\t\tapp.get('/list', Controller.list);\n\n\t\t// admin\n\t\tapp.get('/secure', Controller.secure);\n\t\tapp.get('/ping', Controller.ping);\n\t\tapp.get('/update', Controller.update);\n\t\tapp.get('/version', Controller.version);\n\n\t\tapp.get('/toggle', Controller.toggle);\n\n\t\tapp.get('/secure', Controller.secure);\n\t\tapp.get('/secure1', Controller.secure1);\n\n\t\t// access\n\t\tapp.get('/logout', server.controller.Login.logout);\n\t\tapp.get('/login', server.controller.Login.login);\n\t\tapp.post('/login', server.controller.Login.loginPost);\n\n\t\t// api\n\t\tapp.get('/api', server.controller.Api.api);\n\t\tapp.get('/api/id', server.controller.Api.apiId);\n\t\tapp.post('/api', server.controller.Api.apiPost);\n\n\t\t// test app\n\t\tapp.get('/test', server.controller.Test.test);\n\t\tapp.get('/test/id', server.controller.Test.testId);\n\t\tapp.get('/test/:id', server.controller.Test.testById);\n\t\tapp.get('/test/foo/:id', server.controller.Test.testFooById);\n\n\t\t// app.route('/book')\n\t\t// \t.get(function (req, res) {\n\t\t// \t\tres.send('Get a random book');\n\t\t// \t})\n\t\t// \t.post(function (req, res) {\n\t\t// \t\tres.send('Add a book');\n\t\t// \t})\n\t\t// \t.put(function (req, res) {\n\t\t// \t\tres.send('Update the book');\n\t\t// \t});\n\t}\n}","package server.controller;\n\nimport js.Node;\nimport js.node.Fs;\nimport js.npm.express.*;\n\nimport js.Node.console;\n\nimport model.constants.App;\n\n// import msignal.Signal;\n\nclass Api {\n\n\tpublic static function api(req:Request,res:Response) {\n\t\tres.send('api: ${App.BUILD}');\n\t}\n\tpublic static function apiPost(req:Request,res:Response) {\n\t\tconsole.log('api');\n\t\tconsole.log(req);\n\t\tconsole.log(res);\n\t\t// console.log(res.body);\n\t\t// console.log(req.body);\n\t}\n\tpublic static function apiId(req:Request,res:Response) {\n\t\tvar _url = Node.__dirname +  '/private/api_id.json';\n\t\tres.send(Fs.readFileSync(_url, \"utf8\"));\n\t}\n\n}","package server.controller;\n\nimport js.Node;\nimport js.node.Fs;\nimport js.npm.express.*;\n\nimport js.Node.console;\n\nimport model.constants.App;\n\n// import msignal.Signal;\n\nclass Login {\n\tpublic function new () {\n\t\t// your code\n\t}\n\n\tpublic static function logout(req:Request,res:Response) {\n\t\t// res.sendfile(Node.__dirname + '/public/login.html');\n\t\tuntyped req.session.destroy();\n\t\tres.redirect('/');\n\t}\n\tpublic static function login(req:Request,res:Response) {\n\t\tres.sendfile(Node.__dirname + '/public/login.html');\n\t}\n\tpublic static function loginPost(req:Request,res:Response, next) {\n\t\t// res.sendfile(Node.__dirname + '/public/secure.html');\n\t\t// trace(req);\n\t\t// trace(res);\n\t\t// trace(next);\n\n\t\t// you might like to do a database look-up or something more scalable here\n\t\tif (untyped req.body.username != null &&\n\t\t\tuntyped req.body.username == 'user' &&\n\t\t\tuntyped req.body.password != null &&\n\t\t\tuntyped req.body.password == 'pass'\n\t\t\t){\n\t\t\tuntyped req.session.authenticated = true;\n\t\t\tres.redirect('/secure');\n\t\t} else {\n\t\t\t// req.flash('error', 'Username and password are incorrect');\n\t\t\tres.redirect('/login');\n\t\t}\n\t}\n\n}","package server.controller;\n\nimport js.Node;\nimport js.node.Fs;\nimport js.npm.express.*;\n\nimport js.Node.console;\n\nimport model.constants.App;\n\n// import msignal.Signal;\n\n\nclass Test {\n\t/**\n\t *  test/testId/testById/testFooById\n\t *\n\t *  @param req -\n\t *  @param res -\n\t */\n\tpublic static function test(req:Request,res:Response) {\n\t\t// res.sendfile(Node.__dirname + '/public/test.html');\n\t\tvar _url = Node.__dirname +  '/private/test.json';\n\t\tres.send(Fs.readFileSync(_url, \"utf8\"));\n\t}\n\tpublic static function testId(req:Request,res:Response) {\n\t\tres.sendfile(Node.__dirname + '/public/test.html');\n\t}\n\tpublic static function testById(req:Request,res:Response) {\n\t\tres.send('testById: ${req.params.id}');\n\t\tvar _id = req.params.id;\n\t\t// var _url = Node.__dirname +  '/_data/${Folder.GITLAB}/gitlab_project_issues_${_id}.json';\n\t\t// res.send(haxe.Json.parse(Fs.readFileSync(_url, \"utf8\")));\n\t\t// res.sendfile(Node.__dirname + '/public/test.html');\n\t}\n\tpublic static function testFooById(req:Request,res:Response) {\n\t\tres.send('testFooById: ${req.params.id}');\n\t\t// res.sendfile(Node.__dirname + '/public/test.html');\n\t}\n}","package model.constants;\n\nimport haxe.macro.Context;\n\nclass App {\n\n\tpublic static inline var PROJECT_NAME : String  = \"[Skeletor]\";\n\n\tpublic static inline var URL : String  = \"https://skeletor.herokuapp.com/\";\n\tpublic static inline var PORT : String  = \"5000\";\n\n\tpublic static var BUILD : String = getBuildDate();\n\n\tmacro public static function getBuildDate() {\n\t\tvar date = Date.now().toString();\n\t\treturn Context.makeExpr(date, Context.currentPos());\n\t}\n\n}"],
"names":[],
"mappings":"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"
}