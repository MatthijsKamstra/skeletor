{
"version":3,
"file":"client.js",
"sourceRoot":"file:///",
"sources":["/Users/matthijs/Documents/workingdir/haxe/hxskeletor/src/MainClient.hx"],
"sourcesContent":["package;\n\nimport js.jquery.JQuery;\nimport js.Browser.*;\nimport js.html.*;\n\nimport vue.Vue;\n\nimport model.constants.App;\n\nclass MainClient {\n\n\tvar url : String;\n\tvar socket : Dynamic;\n\tvar _inputField : InputElement;\n\n\tpublic function new() {\n\t\tnew JQuery(document).ready ( function () {\n\t\t\ttrace (\"MainClient document ready!\");\n\t\t\tif(window.location.href.indexOf('localhost') != -1){\n\t\t\t\turl = 'http://localhost:${App.PORT}';\n\t\t\t} else {\n\t\t\t\turl = '${App.URL}';\n\t\t\t}\n\n\t\t\ttrace('body.id : ${document.body.id}');\n\n\t\t\tinit();\n\t\t});\n\t}\n\n\n\tprivate function init() {\n\t\t// showSnackbar('hello');\n\t\tinitVue();\n\t\tinitSocket();\n\t}\n\n\tvar loading : Vue;\n\tvar app : Vue;\n\tvar example1 : Vue;\n\tvar example2 : Vue;\n\n\tfunction initVue(){\n\t\tloading = new Vue({\n\t\t\tel: '#loading',\n\t\t\tdata: {\n\t\t\t\tshowloading: true\n\t\t\t}\n\t\t});\n\t\tapp = new Vue({\n\t\t\tel: '#app',\n\t\t\tdata: {\n\t\t\t\tmessage: 'Hello Vue.js!'\n\t\t\t}\n\t\t});\n\t\tif(document.getElementById('example-1') != null){\n\t\t\texample1 = new Vue({\n\t\t\t\tel: '#example-1',\n\t\t\t\tdata: {\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{ message: 'Foo' },\n\t\t\t\t\t\t{ message: 'Bar' }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif(document.getElementById('example-2') != null){\n\t\t\texample2 = new Vue({\n\t\t\t\tel: '#example-2',\n\t\t\t\tdata: {\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{ message: '1Foo' },\n\t\t\t\t\t\t{ message: '2Bar' }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\n\n\t\tVue.component('todo-item', {\n\t\t\tprops: ['todo'],\n\t\t\ttemplate: '<li>{{ todo.text }}</li>'\n\t\t});\n\t\tVue.component('reaction-item', {\n\t\t\tprops: ['react'],\n\t\t\ttemplate: '<span class=\"badge badge-primary bigger-badge\">{{ react.name }} {{ react.count }}</span>'\n\t\t});\n\t\tvar app7 = new Vue({\n\t\t\tel: '#app-7',\n\t\t\tdata: {\n\t\t\t\tgroceryList: [\n\t\t\t\t\t{ id: 0, text: 'Vegetables' },\n\t\t\t\t\t{ id: 1, text: 'Cheese' },\n\t\t\t\t\t{ id: 2, text: 'Whatever else humans are supposed to eat' }\n\t\t\t\t],\n\t\t\t\treactions: [\n\t\t\t\t\t{ \"name\": \"+1\", \"users\": [ \"U2XFA5KM4\", \"U02BA6Q72\" ], \"count\": 2 },\n\t\t\t\t\t{ \"name\": \"-1\", \"users\": [ \"U2XFA5KM4\" ], \"count\": 1 }\n\t\t\t\t]\n\t\t\t},\n\t\t\tcomputed: {\n\t\t\t\ttotalMarks: function() {\n\t\t\t\t\tvar total = 100;\n\t\t\t\t\treturn total;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction initSocket(){\n\t  \tsocket = js.browser.SocketIo.connect(url);\n\t\tsocket.on('message', function (data) {\n\t\t\ttrace('${haxe.Json.stringify(data)}');\n    \t\tapp.data.message = data.message;\n\t\t\t// showSnackbar('connected to server');\n\t\t});\n\t\tsocket.on('channels', function (data) {\n\t\t\t// trace('${haxe.Json.stringify(data)}');\n\t\t\t// var json : api.slack.channel.list.AST.ChannelListObj = data;\n\t\t\t// var arr = [];\n\t\t\t// for (channel in json.channels){\n\t\t\t// \ttrace(channel);\n\t\t\t// \tarr.push({message:'id: ${channel.id} / name: ${channel.name} / members: ${channel.members.length}'});\n\t\t\t// }\n\t\t\t// example1.data.items = arr;\n\t\t\t// loading.data.showloading = false;\n\t\t});\n\t\tsocket.on('list.update', function (data) {\n\t\t\ttrace('list.update :: ${data}');\n\t\t});\n\t\tsocket.on('list', function (data) {\n\t\t\ttrace('${haxe.Json.stringify(data)}');\n\t\t\tvar json : Array<Dynamic>  = data;\n\t\t\tvar arr = [];\n\t\t\tfor (link in json){\n\t\t\t\ttrace(link);\n\t\t\t\tarr.push(link);\n\t\t\t}\n\t\t\texample2.data.items = arr;\n\t\t\tloading.data.showloading = false;\n\t\t});\n\t\tsocket.on('test:ping', function (data) {\n\t\t\ttrace('test:ping');\n\t\t\tshowSnackbar('test:ping :: ${data}');\n\t\t});\n\n\t}\n\n\tfunction showSnackbar(msg:String) {\n\t\t// Get the snackbar DIV\n\t\tvar x = document.getElementById(\"snackbar\");\n\n\t\t// if no #snackbar exists, create it\n\t\tif(x == null){\n\t\t\tvar div = document.createDivElement();\n\t\t\tdiv.id = 'snackbar';\n\t\t\tdocument.body.appendChild(div);\n\t\t\tx = div;\n\t\t}\n\n\t\t// set msg to snackbar\n\t\tx.innerText = msg;\n\n\t\t// Add the \"show\" class to DIV\n\t\tx.className = \"show\";\n\n\t\t// After 3 seconds, remove the show class from DIV\n\t\tuntyped setTimeout(function(){\n\t\t\tx.className = x.className.replace(\"show\", \"\");\n\t\t}, 3000);\n\n\t}\n\n\t// private function sendMessage():Void\n\t// {\n\t// \tvar text = _inputField.value;\n\t// \tsocket.emit('send', { message: text, username: _inputName.value });\n\t// \t_inputField.value = \"\";\n\t// }\n\n\n    static public function main(){\n\t\t\tvar main = new MainClient();\n\t}\n}"],
"names":[],
"mappings":";;iBAgBQ,WAAe;AAAA,CAAf;CACN,EAAW,uBAAkB,WAAY;AAAA,EACxC,YAAO;EACP,EAAG,8BAA8B,gBAAe,IAC/C;AAAA,gBAAO,sBAAmB;SAE1B;AAAA,gBAAO;;EAGR,YAAO,eAAY;EAEnB;;;kBA4Je,WACf;AAAA,YAAW;;;OAxJL,WAAgB;AAAA,EAEvB;EACA;;WAQD,WAAkB;AAAA,EACjB,eAAU,QAAQ,OACZ,mBACC,gBACQ;EAGf,WAAM,QAAQ,OACR,eACC,YACK;EAGZ,EAAG,gCAAyB,gBAAe,MAC1C;AAAA,mBAAW,QAAQ,OACb,qBACC,UACE,CACN,YAAY,OACZ,YAAY;;EAKhB,EAAG,gCAAyB,gBAAe,MAC1C;AAAA,mBAAW,QAAQ,OACb,qBACC,UACE,CACN,YAAY,QACZ,YAAY;;EAQhB,cAAe,YAAY,UACnB,CAAE,oBACE;EAEZ,cAAe,gBAAgB,UACvB,CAAE,qBACE;EAEZ,WAAW,QAAQ,OACb,iBACC,gBACQ,CACZ,OAAM,UAAU,cAChB,OAAM,UAAU,UAChB,OAAM,UAAU,0DAEN,CACV,WAAU,gBAAe,CAAE,YAAa,wBAAwB,GAChE,WAAU,gBAAe,CAAE,wBAAwB,iBAG3C,eACG,WAAW;AAAA,GACtB,YAAY;GACZ,OAAO;;;cAMX,WAAqB;AAAA,EAArB;EACG,cAAS,WAA4B;EACvC,eAAW,UAAU,eAAgB;AAAA,GACpC,YAAO,KAAE,eAAoB;GAC1B,2BAAmB;;EAGvB,eAAW,WAAW,gBAAgB;AAAA;EAWtC,eAAW,cAAc,gBACxB;AAAA,eAAO,oBAAiB;;EAEzB,eAAW,OAAO,gBAAgB;AAAA,GACjC,YAAO,KAAE,eAAoB;GAC7B,WAA6B;GAC7B,UAAU;GACV;cAAa,aAAb;AAAA,IAAK,WAAL,AAAa,KAAb;;IACC,YAAM;IACN,SAAS;;GAEV,8BAAsB;GACtB,mCAA2B;;EAE5B,eAAW,YAAY,gBAAgB;AAAA,GACtC,YAAO;GACP,oBAAc,kBAAe;;;gBAK/B,cAAkC;AAAA,EAEjC,QAAQ,+BAAwB;EAGhC,EAAG,MAAK,MAAK;AAAA,GACZ,UAAU;GACV,SAAU;GACV,iCAA0B;GAC1B,IAAI;;EAIL,cAAc;EAGd,cAAc;EAGN,WAAW,WAClB;AAAA,iBAAc,oBAAoB,OAAQ;IACxC;;;;;;"
}